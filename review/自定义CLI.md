# 自定义脚手架



## 一、课前准备

### I、几个重要的概念

**1. 什么是脚手架？**

> **脚手架**是一种临时性的[建筑](https://zh.wikipedia.org/wiki/建築)[工具](https://zh.wikipedia.org/wiki/工具)，架设在正在组建或重建的[楼房](https://zh.wikipedia.org/wiki/房屋)或[建筑物](https://zh.wikipedia.org/wiki/建築物)，亦用于[轮船](https://zh.wikipedia.org/wiki/輪船)等大型的移动式物品，供施工人员在[墙壁](https://zh.wikipedia.org/wiki/墙壁)等高处施工。通常是由[金属](https://zh.wikipedia.org/wiki/金屬)导管组成的[模块化](https://zh.wikipedia.org/wiki/模块化)工具，也有使用其他[材料](https://zh.wikipedia.org/wiki/材料)制成，比如在[东方国家](https://zh.wikipedia.org/wiki/東方世界)就有用[竹子](https://zh.wikipedia.org/wiki/竹子)制成的支架。
>
> 也就是说脚手架的概念来源于土木**工程**。

**2. 什么是软件开发脚手架？**

> 软件工程和土木工程都属于工程学范畴，关于软件开发中的脚手架没有一个准确的官方定义，在软件开发中`“脚手架”`一词实际上是一个形象的比喻，下面是几个关于脚手架的非官方定义：
>
> + 在软件开发上（当然也包括前端开发）的脚手架指的就是：有人帮你把这个开发过程中要用到的工具、环境都配置好了，你就可以方便地直接开始做开发，专注你的业务，而不用再花时间去配置这个开发环境，这个开发环境就是脚手架。——百度百科
> + 对应到软件工程领域，脚手架可以解释为帮助开发人员在开发过程中使用的开发工具、开发框架，使用脚手架你无须从头开始搭建或者编写底层软件。

**3. 什么是CLI？**

> **命令行界面**（英语：**C**ommand-**L**ine **I**nterface，缩写：**CLI**）是在[图形用户界面](https://zh.wikipedia.org/wiki/图形用户界面)得到普及之前使用最为广泛的[用户界面](https://zh.wikipedia.org/wiki/用户界面)，它通常不支持[鼠标](https://zh.wikipedia.org/wiki/鼠标)，用户通过[键盘](https://zh.wikipedia.org/wiki/键盘)输入指令，计算机接收到指令后，予以执行。也有人称之为**字符用户界面**（character user interface, CUI）。

**4.什么是打包工具？**

> 首先打包是一个模糊的概念，英文是bundle，就是把多个文件合并成一个文件。举例说明，webpack就是一个打包工具，**webpack** 是一个用于现代 JavaScript 应用程序的 *静态模块打包工具*。让我们在开发中可以使用模块化开发模式，然后通过打包工具——例如webpack，打包之后可以运行在浏览器环境中。



### II、脚手架、CLI、打包工具之间的关系

脚手架是帮助开发人员在开发过程中使用的开发工具、开发框架，使用工具链你无须从头开始搭建或者编写底层软件。对应到前端脚手架就是帮助前端开发人员生成一个项目模板的工具。但是脚手架的使用形式也有很多，最常见的有几种：

+ 命令行界面（CLI），通过在终端输入命令来使用脚手架创建项目。
+ 图形用户界面（GUI）：某些脚手架工具提供了图形界面，使用户可以通过可视化的方式进行项目初始化和配置。这种方式对于不熟悉命令行的用户来说更加友好，可以通过简单的鼠标点击和拖拽完成操作。
+ Web界面：一些脚手架工具提供了基于Web的用户界面，可以在浏览器中访问和使用。这种方式使得团队成员可以通过浏览器远程访问和使用脚手架功能，方便协作和统一项目的创建和管理
+ IDE插件：许多集成开发环境（IDE）都有与特定脚手架工具集成的插件。这些插件使得在IDE中创建和配置项目更加方便，可以通过界面操作进行脚手架的初始化和相关配置，无需离开IDE环境。

那么对于使用脚手架创建的前端SPA项目（Vue项目或者是React项目等..），大部分都要依赖webpack等打包工具进行构建的，把模块化的代码打包成最终可以运行在浏览器中的代码。那么为什么需要打包工具对前端的模块化代码进行打包呢？是因为浏览器一般是不支持模块化代码的，所以要使用webpack这种模块化打包工具进行打包处理，使之成为浏览器可以解析运行的代码。



## 二、为什么要使用脚手架？

**脚手架在软件开发中的使用有以下几个主要原因：**

1. 快速初始化项目：脚手架可以帮助开发人员快速初始化一个项目的基本结构和文件，省去了手动创建和配置的繁琐过程。它们通常提供了一个预定义的**模板**或蓝图，包含了项目所需的文件结构、依赖关系和配置文件等，使得项目的搭建变得简单、高效。

2. 标准化和规范化：脚手架可以帮助团队建立和推广一致的项目结构、代码风格和最佳实践。通过使用脚手架，开发人员可以在项目初始化阶段就遵循一致的规范，减少团队成员之间的差异，提高代码质量和可维护性。

3. 自动化和模板化：脚手架工具通常提供了自动化的任务和代码生成功能。例如，可以自动生成基本的文件、模块、测试框架和配置代码等，减少了手动编写重复性代码的工作量。这样的模板化特性可以加速开发过程，提高开发效率。

4. 技术栈和工具链集成：脚手架通常会集成特定的技术栈和工具链，帮助开发人员快速构建符合特定技术要求的项目。它们可以预配置各种依赖、插件、构建工具、测试框架等，以及相关的配置文件，使得项目的搭建和开发过程更加顺利。

5. 社区支持和生态系统：许多脚手架工具都有活跃的社区支持和丰富的插件生态系统。开发人员可以从社区中获取其他开发者共享的脚手架模板和插件，以满足特定需求，加速开发过程，并避免从头开始构建一切。

总之，使用脚手架可以提供项目初始化的自动化、规范化和标准化，加速开发过程，减少重复性工作，并帮助开发团队更高效地构建和交付软件项目。

**降本增效**

**对于为什么使用脚手架这个问题，我们可以通过一些软件开发的基本原则看一下脚手架对我们开发的重要作用：**

+ 复用原则（Reuse Principle）
+ DRY原则（Don't Repeat Yourself）
+ 开闭原则（Open Close Principle）：开闭原则中的“开”就是指对功能的扩展是开放的，“闭”是指对于原有代码的修改是封闭的。通俗一点讲，软件系统通常是由各种模块组成的，软件系统在增加一项新的功能时，应该在不修改现有代码的基础上操作。

总之就是不要重复造轮子，把人从重复的劳动解放出来。使用自动化的工具完成可以标准化，模板化的事情。



## 二、为什么要自定义脚手架？

市面上有很多脚手架Vue-cli、CRA......，那么我们为什么要自定义脚手架呢？

自定义脚手架的主要原因是满足**特定项目**或`组织`的需求，以更好地适应和支持特定的开发流程和技术栈。以下是一些常见的原因：

1. 项目需求定制化：不同项目可能有不同的需求和要求。通过自定义脚手架，可以根据项目的具体需求和规范来定义项目结构、配置文件、默认依赖项等。这样可以确保项目的初始化和配置符合项目的特定要求，提高项目的一致性和可维护性。

2. 技术栈选择：不同的项目可能使用不同的技术栈和框架。通过自定义脚手架，可以集成特定的技术栈和工具链，预配置所需的依赖项、插件和配置文件等。这样可以帮助开发人员快速启动项目，减少手动配置的时间和错误。

3. 公司/组织标准化：组织内部可能有一套标准的开发流程、架构规范和最佳实践。通过自定义脚手架，可以将这些标准化要求纳入到项目初始化过程中，确保团队成员在新项目的创建和开发中遵循一致的规范。这有助于提高团队的协作效率、代码质量和项目可维护性。

4. 提高开发效率：自定义脚手架可以自动化繁琐的初始化任务，减少手动操作的时间和错误。它们可以提供一键式的项目创建和配置，快速生成基础代码结构、配置文件和模板。这样可以加快项目的启动和开发速度，提高开发效率。

5. 知识共享和团队协作：通过自定义脚手架，可以将团队内部的最佳实践和经验进行抽象和共享。团队成员可以共享和复用脚手架模板，促进知识的传递和团队间的协作。这有助于建立一致的开发流程和标准，提高团队整体的开发效率和质量。

总之，自定义脚手架可以根据特定项目和组织的需求定制化项目初始化过程，提高开发效率、标准化开发流程和加强团队协作。它们帮助开发人员快速启动项目，减少重复性工作，提供一致的开发环境和结构，从而提高整体开发质量和效率。

1. 基础架构的意义

2. 业务架构的意义



## 三、本课程的内容

因为脚手架的种类众多，实现方式和使用形式众多，我们难道要都手写一遍吗？

显然不可能，一通百通，我们就仿照Vue-cli从0到1来实现一个类似于Vue-cli的脚手架。

+ 基于Vue-cli 2.9
+ 基于NodeJS 18.x



## 四、通过学习本课程你能得到什么？

1. 能够通过vue-cli的手写熟知脚手架的核心工作原理。
2. 可以具备手写脚手架的能力，足以应付在工作中自定义脚手架的需求。
3. 触类旁通，不尽能够学会vue脚手架的搭建，还可以通晓例如：
   1. 组件库脚手架
   2. SDK脚手架
   3. .....
4. 通过这节课的学习，可以对前端工程化有一个更深的认识。





























